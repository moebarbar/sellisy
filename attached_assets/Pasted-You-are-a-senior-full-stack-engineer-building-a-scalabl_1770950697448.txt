You are a senior full-stack engineer building a scalable SaaS MVP in Replit.

Create a production-ready project named “DigitalVault” (multi-tenant digital product storefront builder) using:
- Next.js 14+ (App Router) + TypeScript
- Tailwind CSS + shadcn/ui (clean premium UI)
- Prisma + Postgres (Neon/Supabase compatible)
- Clerk authentication
- Stripe Checkout (payments)
- S3-compatible object storage for files (Cloudflare R2 preferred) — do NOT store files locally

GOAL (Phase 1 MVP only):
A user can sign up → create a store from 2 templates → import products from platform library → publish products → accept Stripe payment → deliver secure download links.

NON-GOALS (do NOT build yet):
Affiliates, marketplace discovery, email automation, analytics, SEO automation, advanced editor, multi-language.

PROJECT STRUCTURE (must match exactly, keep it simple and readable):
/app
  /(marketing)                landing + pricing
  /(auth)                     clerk routes
  /(dashboard)                authenticated dashboard
  /(storefront)               public store pages
  /api                        route handlers (stripe webhook, health)
/components
  /ui                         shadcn
  /dashboard
  /storefront
/core                         business logic only (no UI)
  /catalog                    platform library logic
  /store                      store + import logic
  /billing                    stripe helpers
  /delivery                   secure download tokens
  /files                      R2/S3 helpers
/db
  /prisma/schema.prisma
  /seed.ts
/lib
  env.ts, prisma.ts, stripe.ts, r2.ts, utils.ts
/templates
  /neon (config.ts, renderer.tsx)
  /silk (config.ts, renderer.tsx)
  index.ts                    template registry
/docs
  ROADMAP.md, DECISIONS.md

DATABASE (Prisma) — implement these models:
- Store: id, ownerId, name, slug (unique), templateKey, createdAt
- Product: id, ownerId (nullable), source ("PLATFORM"|"USER"), title, description, priceCents, thumbnailUrl, status ("DRAFT"|"ACTIVE"), createdAt
- FileAsset: id, productId, storageKey, originalName, sizeBytes
- StoreProduct: id, storeId, productId, isPublished, sortOrder
- Order: id, storeId, buyerEmail, totalCents, stripeSessionId, status, createdAt
- OrderItem: id, orderId, productId, priceCents
- DownloadToken: id, orderId, tokenHash, expiresAt, createdAt

REQUIRED FLOWS:
1) Auth:
   - Clerk sign-in / sign-up
   - Protect all /(dashboard) routes with middleware
2) Store creation:
   - Dashboard page: “Stores”
   - Create store form: name, slug, templateKey (“neon” or “silk”)
3) Platform product library:
   - Dashboard page: “Library”
   - List PLATFORM products
   - “Import to Store” action: creates StoreProduct
4) Publish products:
   - Store detail page: list imported products
   - Toggle publish/unpublish (updates StoreProduct.isPublished)
5) Storefront:
   - Public route: /s/[slug]
   - Renders template based on store.templateKey via templates registry
   - Shows published products with “Buy” button
6) Payments + delivery:
   - Buy button creates Stripe Checkout session
   - Stripe webhook confirms payment and creates Order + OrderItems
   - After success, show a download page that uses a short-lived DownloadToken
   - Download endpoint verifies token + returns signed URL to file in R2/S3 (or streams file securely)

SEEDING:
- Implement db/seed.ts to create 6 demo PLATFORM products (with placeholder thumbnails and sample descriptions).
- Include a script command to run seed.

ENVIRONMENT:
Create .env.example and env validation (lib/env.ts) for:
DATABASE_URL
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY
CLERK_SECRET_KEY
STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET
NEXT_PUBLIC_APP_URL
R2_ACCOUNT_ID
R2_ACCESS_KEY_ID
R2_SECRET_ACCESS_KEY
R2_BUCKET
R2_PUBLIC_BASE_URL

QUALITY REQUIREMENTS:
- Keep code minimal and clear; no overengineering.
- Use server actions or route handlers appropriately.
- Add small, useful comments only.
- Ensure multi-tenant safety: every dashboard query is scoped by ownerId.
- Add basic loading + empty states.
- Add /api/health returning { ok: true }.

DELIVERABLES:
- Complete runnable project in Replit
- README.md with step-by-step setup and commands
- The MVP flow works end-to-end with mocked file URLs if R2 isn’t configured yet (but the storage abstraction must exist).
